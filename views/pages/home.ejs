<%- include('../partials/header') %>

<% if (user) { %>
<!-- Authenticated user content -->
<section class="content-block light-grey home-top">
    <h1>Welcome</h1>
    <p>This tool helps you create course bookings, import tasks to Forecast, and browse data across HubSpot and Forecast.</p>

    <div class="grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 16px; margin-top: 16px;">
        <div class="card">
            <h3>Create Tutored Course Booking</h3>
            <p>Set up a project, tasks, and calendar entries in one go.</p>
            <p><a class="btn btn-lightgrey" href="/course-bookings/new">Create tutored booking</a></p>
        </div>
        <div class="card">
            <h3>Create Self-Paced Course Booking</h3>
            <p>Set up a project, tasks, and calendar entries in one go.</p>
            <p><a class="btn btn-lightgrey" href="/self-paced-bookings/new">Create self-paced booking</a></p>
        </div>
    </div>
    <div class="grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 16px; margin-top: 16px;">
        <div class="card">
            <h3>Browse Bookings</h3>
            <p>View course bookings.</p>
            <p><a class="btn btn-lightgrey" href="/course-bookings">Browse bookings</a></p>
        </div>
        <div class="card">
            <h3>Browse Courses</h3>
            <p>View courses used for bookings.</p>
            <p><a class="btn btn-lightgrey" href="/hubspot/courses">Browse courses</a></p>
        </div>
        <div class="card">
            <h3>View moodle enrollments per course</h3>
            <p>View enrollments for each course in Moodle.</p>
            <p><a class="btn btn-lightgrey" href="/moodle/courses">View enrollments</a></p>
        </div>
    </div>
    <br/>
    <h2>Forecast Operations</h2>
    <div class="grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 16px; margin-top: 16px;">
        
        <div class="card">
            <h3>Create Tasks (Import)</h3>
            <p>Import training tasks directly into Forecast from a file.</p>
            <p><a class="btn btn-lightgrey" href="/forecast/import">Import tasks</a></p>
        </div>
        <div class="card">
            <h3>Browse Projects</h3>
            <p>View existing Forecast projects.</p>
            <p><a class="btn btn-lightgrey" href="/forecast/projects">Browse projects</a></p>
        </div>
        
    </div>
</section>
<% } else { %>
<!-- Non-authenticated user content -->
<section class="content-block light-grey home-top">
    <div class="welcome-container">
        <div class="welcome-logo">
            <img src="/images/logo.svg" alt="ODI Logo">
        </div>
        
        <h1>Welcome to ODI Automation Services</h1>
        
        <p class="welcome-description">
            Streamline your course booking process with integrated tools for Forecast, HubSpot, and Google Calendar.
        </p>
        
        <div class="login-section">
            <a href="/auth/google" class="btn btn-primary">
                <span class="login-icon">üîê</span>
                Sign in with Google
            </a>
        </div>
        
        <div class="features-preview">
            <div class="feature-card">
                <h3>üìÖ Course Bookings</h3>
                <p>Create comprehensive course bookings with integrated project management and calendar scheduling.</p>
            </div>
            
            <div class="feature-card">
                <h3>üìä Task Management</h3>
                <p>Import and manage training tasks directly in Forecast with seamless integration.</p>
            </div>
            
            <div class="feature-card">
                <h3>üîç Data Insights</h3>
                <p>Browse and analyze data across HubSpot, Forecast, and Google Calendar platforms.</p>
            </div>
        </div>
    </div>
</section>
<% } %>

<%- include('../partials/footer') %>